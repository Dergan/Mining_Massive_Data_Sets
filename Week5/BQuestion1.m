%% Week 5B Question1
clear all
close all
clc

points = [23,40; ...
          25,125; ...
          28,145; ...
          29,97; ...
          33,22; ...
          35,63; ...
          38,115; ...
          42,57; ...
          43,83; ...
          44,105; ...
          50,30; ...
          50,60; ...
          50,90; ...
          50,130; ...
          55,20; ...
          55,63; ...
          55,118; ...          
          63,88; ...
          64,37; ...
          65,140];

clusters = [23,40; 
          25,125; ...
          29,97; ...
          33,22; ...
          35,63; ...
          42,57; ...
          44,105; ...
          55,20; ...
          55,63; ...         
          64,37];

% ClusterIndex(i,1) is number of points in cluster i
% ClusterIndex(i,2) is sum of (position of X) in cluster i
% ClusterIndex(i,3) is sum of (position of Y) in cluster i
ClusterIndex = zeros(10,3);

for i = 1:size(points,1)
    cluster_distance = [0,inf];
    for j = 1:size(clusters,1)
        distCal = sqrt((points(i,1)-clusters(j,1))^2+...
                      (points(i,2)-clusters(j,2))^2);
        if distCal <= cluster_distance(2)
            cluster_distance(1) = j;
            cluster_distance(2) = distCal;
        end
    end
    ClusterIndex(cluster_distance(1),1) = ClusterIndex(cluster_distance(1),1)+1;
    ClusterIndex(cluster_distance(1),2) = ClusterIndex(cluster_distance(1),2) + points(i,1);
    ClusterIndex(cluster_distance(1),3) = ClusterIndex(cluster_distance(1),3) + points(i,2);
end

ClusterIndex

for i = 1:size(ClusterIndex,1)
    clusters(i,1) = ClusterIndex(i,2)/ClusterIndex(i,1);
    clusters(i,2) = ClusterIndex(i,3)/ClusterIndex(i,1);
end

clusters